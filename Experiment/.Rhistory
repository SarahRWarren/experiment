ggplot(for_fig, aes(x=person, y=av_amount)) +
geom_point(aes(shape = person)) +
facet_wrap(vars(gender)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic()
ggplot(for_fig, aes(x=person, y=av_amount)) +
geom_point(aes(shape = person)) +
facet_wrap(vars(gender_char)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic()
View(for_fig)
ggplot(for_fig, aes(x=person, y=av_amount, color = applicant_2_rate)) +
geom_point(aes(shape = person)) +
facet_wrap(vars(gender_char)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic()
ggplot(for_fig, aes(x=person, y=av_amount)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(gender_char)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic()
ggplot(for_fig, aes(x=person, y=av_amount)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(gender_char, applicant_2_rate)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3)
for_fig <- gender %>%
select(gender, gender_char, APP_1_amt_1, APP_2_amt_1, STATE_amt_1,
applicant_2_name, applicant_2_rate, applicant_2_sex)%>%
pivot_longer(APP_1_amt_1:STATE_amt_1, names_to = "person",
values_to = "amount")
for_fig <- for_fig %>%
group_by(person, gender_char) %>%
mutate(av_amount = mean(amount))%>%
mutate(n = length(av_amount)) %>%
mutate(sd = sd(amount)) %>%
mutate(se = sd/sqrt(n))
ggplot(for_fig, aes(x=person, y=av_amount, color = gender_char)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(applicant_2_rate)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic()
ggplot(for_fig, aes(x=person, y=av_amount, color = gender_char)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(applicant_2_rate)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic() +
scale_color_viridis(discrete = TRUE) +
scale_shape_discrete(labels=c('Baseline', 'Treatment', 'State')) +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
labs(x = "",
y = "Average Dollars Awarded",
shape = "Recipient",
color = "")
ggplot(for_fig, aes(x=person, y=av_amount, color = gender_char)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(applicant_2_rate)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic() +
scale_color_viridis(discrete = TRUE) +
scale_shape_discrete(labels=c('Baseline', 'Treatment', 'State')) +
#theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
labs(x = "",
y = "Average Dollars Awarded",
shape = "Recipient",
color = "")
ggplot(for_fig, aes(x=person, y=av_amount, color = gender_char)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(applicant_2_rate)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic() +
scale_color_viridis(discrete = TRUE) +
scale_shape_discrete(labels=c('Baseline', 'Treatment', 'State')) +
#theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
theme(axis.text.x = element_blank()) +
labs(x = "",
y = "Average Dollars Awarded",
shape = "Recipient",
color = "")
View(for_fig)
ggplot(for_fig, aes(x=applicant_2_name, y=av_amount, color = gender_char)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(applicant_2_rate)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic() +
scale_color_viridis(discrete = TRUE) +
scale_shape_discrete(labels=c('Baseline', 'Treatment', 'State')) +
#theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
#theme(axis.text.x = element_blank()) +
labs(x = "",
y = "Average Dollars Awarded",
shape = "Recipient",
color = "")
ggplot(for_fig, aes(x=person, y=av_amount, color = gender_char)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(applicant_2_rate)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic() +
scale_color_viridis(discrete = TRUE) +
scale_shape_discrete(labels=c('Baseline', 'Treatment', 'State')) +
#theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
#theme(axis.text.x = element_blank()) +
labs(x = "",
y = "Average Dollars Awarded",
shape = "Recipient",
color = "")
ggplot(for_fig, aes(x=person, y=av_amount, color = gender_char)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(applicant_2_rate, applicant_2_name)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic()
ggplot(for_fig, aes(x=person, y=av_amount, color = gender_char)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(applicant_2_rate, applicant_2_name)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic() +
scale_color_viridis(discrete = TRUE) +
scale_shape_discrete(labels=c('Baseline', 'Treatment', 'State')) +
#theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
theme(axis.text.x = element_blank()) +
labs(x = "",
y = "Average Dollars Awarded",
shape = "Recipient",
color = "")
ggplot(for_fig, aes(x=person, y=av_amount, color = gender_char)) +
geom_point(aes(shape = applicant_2_rate)) +
facet_wrap(vars(applicant_2_rate, applicant_2_name)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic() +
scale_color_viridis(discrete = TRUE) +
scale_shape_discrete(labels=c('Baseline', 'Treatment', 'State')) +
#theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
theme(axis.text.x = element_blank()) +
labs(x = "",
y = "Average Dollars Awarded",
shape = "Recipient",
color = "Respondent Gender")
ggplot(for_fig, aes(x=person, y=av_amount, color = gender_char)) +
geom_point(aes(shape = person)) +
facet_wrap(vars(applicant_2_rate, applicant_2_name)) +
geom_errorbar(aes(ymin =av_amount - 1.96*se,
ymax=av_amount + 1.96*se), width = 0.3) +
theme_classic() +
scale_color_viridis(discrete = TRUE) +
scale_shape_discrete(labels=c('Baseline', 'Treatment',
'State')) +
#theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
theme(axis.text.x = element_blank()) +
labs(x = "",
y = "Average Dollars Awarded",
shape = "Recipient",
color = "Respondent Gender")
ggsave("figs/robust-results-R-gender.png", height = 6, width = 8)
library(tidyverse)
library(viridis)
library(haven)
library(labelled)
library(labeling)
library(modelsummary)
library(gridExtra)
#load df
df <- read_sav("Data/FLSU0010_OUTPUT.sav")
var_label(df) <- NULL
#write_csv(df, "Data/FLSU0010_OUTPUT.csv")
#tidy and shape
gender <- df %>%
select(caseid, applicant2_treat, APP_1_amt_1, APP_2_amt_1, STATE_amt_1,
ideo5) %>%
drop_na() %>%
mutate(applicant_2_char = as.character(applicant2_treat),
applicant_2_char = recode(applicant2_treat,
"1" = "Misty (Exc)",
"2" = "Misty (Poor)",
"3" = "James (Exc)",
"4" = "James (Poor)",
"5" = "Sammie (Exc)",
"6" = "Sammie (Poor)",
"7" = "No Name (Exc)")) %>%
mutate(applicant_2_name = as.character(applicant2_treat),
applicant_2_name = recode(applicant2_treat,
"1" = "Misty",
"2" = "Misty",
"3" = "James",
"4" = "James",
"5" = "Sammie",
"6" = "Sammie",
"7" = "No Name")) %>%
mutate(applicant_2_rate = as.character(applicant2_treat),
applicant_2_rate = recode(applicant2_treat,
"1" = "Excellent",
"2" = "Poor",
"3" = "Excellent",
"4" = "Poor",
"5" = "Excellent",
"6" = "Poor",
"7" = "Excellent")) %>%
mutate(applicant_2_comp = as.character(applicant_2_name),
applicant_2_comp = recode(applicant_2_name,
"Misty" = "Low",
"James" = "High",
"Sammie" = "Low",
"No Name" = "None")) %>%
mutate(applicant_2_high_comp = as.character(applicant_2_name),
applicant_2_high_comp = recode(applicant_2_name,
"Misty" = 0,
"James" = 1,
"Sammie" = 0,
"No Name" = 2)) %>%
mutate(applicant_2_sex = as.character(applicant_2_name),
applicant_2_sex = recode(applicant_2_name,
"Misty" = "Female",
"James" = "Male",
"Sammie" = "Male",
"No Name" = "None")) %>%
mutate(applicant_1_rate = "Excellent") %>%
mutate(applicant_1_name = "Sandra") %>%
mutate(applicant_1_char = "Sandra (Exc)")
#  write_csv(gender, "Data/gender_df.csv")
gender <- gender%>%
group_by(applicant2_treat)%>%
mutate(app_2_amt_av = mean(APP_2_amt_1))%>%
mutate(app_1_amt_av = mean(APP_1_amt_1))%>%
mutate(STATE_amt_av = mean(STATE_amt_1)) %>%
subset(applicant2_treat < 7)
gender$amt_diff <- (gender$APP_2_amt_1 - gender$APP_1_amt_1)
for_fig <- gender %>%
select(ideo5, APP_1_amt_1, APP_2_amt_1, STATE_amt_1,
applicant_2_name, applicant_2_rate, applicant_2_sex)%>%
pivot_longer(APP_1_amt_1:STATE_amt_1, names_to = "person",
values_to = "amount")
for_fig <- for_fig %>%
group_by(person, ideo5) %>%
mutate(av_amount = mean(amount))%>%
mutate(n = length(av_amount)) %>%
mutate(sd = sd(amount)) %>%
mutate(se = sd/sqrt(n)) %>%
ungroup() %>%
filter(ideo5 < 6) #drop no-name
ggplot(for_fig, aes(x=ideo5, y=av_amount)) +
geom_point() +
theme_bw() +
facet_wrap(vars(person)) +
geom_errorbar(aes(ymin =av_amount-1.96*se, ymax=av_amount+1.96*se)) +
labs(x = "Ideology",
y = "Average Dollars Awarded")
View(excmist)
View(df_reg)
##reg for amount given to state
glm(STATE_amt_1 ~ as.factor(applicant_2_sex), data = df_reg)
glm(STATE_amt_1 ~ as.factor(applicant_2_sex), data = df_reg)
lm(STATE_amt_1 ~ as.factor(applicant_2_sex), data = df_reg)
df_reg <- gender %>%
select(amt_diff, applicant_2_rate, applicant_2_high_comp, applicant_2_sex,
applicant_2_name, APP_1_amt_1, APP_2_amt_1, STATE_amt_1) %>%
mutate(app2_exc = as.numeric(applicant_2_rate),
app2_exc = recode(applicant_2_rate,
"Excellent" = 1,
"Poor" = 0)) %>%
mutate(app2_fem = as.numeric(applicant_2_sex),
app2_fem = recode(applicant_2_sex,
"Female" = 1,
"Male" = 0))
##reg for amount given to state
df_reg <- gender %>%
select(amt_diff, applicant_2_rate, applicant_2_high_comp, applicant_2_sex,
applicant_2_name, APP_1_amt_1, APP_2_amt_1, STATE_amt_1) %>%
mutate(app2_exc = as.numeric(applicant_2_rate),
app2_exc = recode(applicant_2_rate,
"Excellent" = 1,
"Poor" = 0)) %>%
mutate(app2_fem = as.numeric(applicant_2_sex),
app2_fem = recode(applicant_2_sex,
"Female" = 1,
"Male" = 0,
"None" = 3)) %>%
subset(app2_fem < 2)
View(df_reg)
View(df_reg)
df_reg <- gender %>%
select(amt_diff, applicant_2_rate, applicant_2_high_comp,
applicant_2_sex, ideo5,
applicant_2_name, APP_1_amt_1, APP_2_amt_1, STATE_amt_1) %>%
mutate(app2_exc = as.numeric(applicant_2_rate),
app2_exc = recode(applicant_2_rate,
"Excellent" = 1,
"Poor" = 0)) %>%
mutate(app2_fem = as.numeric(applicant_2_sex),
app2_fem = recode(applicant_2_sex,
"Female" = 1,
"Male" = 0,
"None" = 3)) %>%
subset(app2_fem < 2)
lm(STATE_amt_1 ~ app2_fem + app2_exc + ideo5, data = df_reg)
p <- lm(STATE_amt_1 ~ app2_fem + app2_exc + ideo5, data = df_reg)
summary(p)
stargazer::stargazer(p, type="latex", style = "ajps",
covariate.labels = c("Treatment Female",
"Rated Excellent",
"Ideology"),
dep.var.labels = c("Dollars Given to State"))
p <- lm(STATE_amt_1 ~ app2_fem + app2_exc +
applicant_2_high_comp + ideo5,
data = df_reg)
p <- lm(STATE_amt_1 ~ ideo5 + app2_fem + app2_exc +
applicant_2_high_comp,
data = df_reg)
stargazer::stargazer(p, type="latex", style = "ajps",
covariate.labels = c("Ideology",
"Treatment Female",
"Rated Excellent",
"High Competence"),
dep.var.labels = c("Dollars Given to State"))
stargazer::stargazer(p, type="latex", style = "apsr",
covariate.labels = c("Ideology",
"Treatment Female",
"Rated Excellent",
"High Competence"),
dep.var.labels = c("Dollars Given to State"))
library(tidyverse)
library(viridis)
library(haven)
library(labelled)
library(labeling)
library(modelsummary)
library(gridExtra)
df <- read_csv("Data/FLSU0010_OUTPUT.csv")
View(df)
df <- read_csv("Data/FLSU0010_OUTPUT.csv") %>%
select(weight_genpop, party_treat, program_treat,
FT_PROG_1, PARTICIPATE_PROG, VOTE_GOV, REELECT_GOV) %>%
drop_na()
df <- read_csv("Data/FLSU0010_OUTPUT.csv") %>%
select(weight_genpop, party_treat, program_treat,
FT_PROG_1, PARTICIPATE_PROG, VOTE_GOV, REELECT_GOV)
df <- read_csv("Data/FLSU0010_OUTPUT.csv") %>%
select(weight_genpop, party_treat, program_treat,
FT_PROG_1, PARTICIPATE_PROG, VOTE_GOV, REELECT_GOV) %>%
drop_na()
View(df)
df <- read_csv("Data/FLSU0010_OUTPUT.csv") %>%
select(weight_genpop, party_treat, program_treat,
FT_PROG_1, PARTICIPATE_PROG, VOTE_GOV, REELECT_GOV, pid3, pid7) %>%
drop_na()
library(tidyverse)
library(viridis)
library(haven)
library(labelled)
library(labeling)
library(modelsummary)
library(gridExtra)
#load df
df <- read_csv("Data/FLSU0010_OUTPUT.csv") %>%
select(weight_genpop, party_treat, program_treat,
FT_PROG_1, PARTICIPATE_PROG, VOTE_GOV, REELECT_GOV, pid3, pid7) %>%
drop_na()
tidy <- df %>%
mutate(party_treat_char = as.character(party_treat),
party_treat_char = recode(party_treat,
"1" = "Republican",
"2" = "Democrat",
"3" = "None"))
tidy <- df %>%
mutate(party_treat_char = as.character(party_treat),
party_treat_char = recode(party_treat,
"1" = "Republican",
"2" = "Democrat",
"3" = "None"))%>%
mutate(program_treat_char = as.character(program_treat),
program_treat_char = recode(program_treat,
"1" = "Universal",
"2" = "Deserving Poor",
"3" = "Poverty",
"4" = "Control")) %>%
mutate(VOTE_GOV_char = as.character(VOTE_GOV),
VOTE_GOV_char = recode(VOTE_GOV,
"1" = "Very Likely",
"2" = "Likely",
"3" = "Somewhat Likely",
"4" = "Somewhat Unlikely",
"5" = "Unlikely",
"6" = "Very Unlikely",
"8" = "skipped")) %>%
mutate(REELECT_GOV_char = as.character(REELECT_GOV),
REELECT_GOV_char = recode(REELECT_GOV,
"1" = "Very Likely",
"2" = "Likely",
"3" = "Somewhat Likely",
"4" = "Somewhat Unlikely",
"5" = "Unlikely",
"6" = "Very Unlikely"))
df <- read_csv("Data/FLSU0010_OUTPUT.csv") %>%
select(weight_genpop, party_treat, program_treat,
FT_PROG_1, PARTICIPATE_PROG, VOTE_GOV, REELECT_GOV, pid3, pid7) %>%
drop_na()
tidy <- df %>%
mutate(party_treat_char = as.character(party_treat),
party_treat_char = recode(party_treat,
"1" = "Republican",
"2" = "Democrat",
"3" = "None"))%>%
mutate(program_treat_char = as.character(program_treat),
program_treat_char = recode(program_treat,
"1" = "Universal",
"2" = "Deserving Poor",
"3" = "Poverty",
"4" = "Control")) %>%
mutate(VOTE_GOV_char = as.character(VOTE_GOV),
VOTE_GOV_char = recode(VOTE_GOV,
"1" = "Very Likely",
"2" = "Likely",
"3" = "Somewhat Likely",
"4" = "Somewhat Unlikely",
"5" = "Unlikely",
"6" = "Very Unlikely",
"8" = "skipped")) %>%
mutate(REELECT_GOV_char = as.character(REELECT_GOV),
REELECT_GOV_char = recode(REELECT_GOV,
"1" = "Very Likely",
"2" = "Likely",
"3" = "Somewhat Likely",
"4" = "Somewhat Unlikely",
"5" = "Unlikely",
"6" = "Very Unlikely")) %>%
mutate(pid3_char = as.character(pid3),
pid3_char = recode(pid3,
"1" = "Democrat",
"2" = "Republican",
"3" = "Independent",
"4" = "Other",
"5" = "Unsure"))%>%
mutate(pid7_char = as.character(pid7),
pid7_char = recode(pid7,
"1" = "Strong Democrat",
"2" = "Not very strong Democrat",
"3" = "Lean Democrat",
"4" = "Independent",
"5" = "Lean Republican",
"6" = "Not very strong Republican",
"7" = "Strong Republican",
"8" = "Unsure",
"9" = "Don't know"))
df <- read_csv("Data/FLSU0010_OUTPUT.csv") %>%
select(weight_genpop, party_treat, program_treat,
FT_PROG_1, PARTICIPATE_PROG, VOTE_GOV, REELECT_GOV, pid3, pid7) %>%
drop_na()
tidy <- df %>%
mutate(party_treat_char = as.character(party_treat),
party_treat_char = recode(party_treat,
"1" = "Republican",
"2" = "Democrat",
"3" = "None"))%>%
mutate(program_treat_char = as.character(program_treat),
program_treat_char = recode(program_treat,
"1" = "Universal",
"2" = "Deserving Poor",
"3" = "Poverty",
"4" = "Control")) %>%
mutate(VOTE_GOV_char = as.character(VOTE_GOV),
VOTE_GOV_char = recode(VOTE_GOV,
"1" = "Very Likely",
"2" = "Likely",
"3" = "Somewhat Likely",
"4" = "Somewhat Unlikely",
"5" = "Unlikely",
"6" = "Very Unlikely",
"8" = "skipped")) %>%
mutate(REELECT_GOV_char = as.character(REELECT_GOV),
REELECT_GOV_char = recode(REELECT_GOV,
"1" = "Very Likely",
"2" = "Likely",
"3" = "Somewhat Likely",
"4" = "Somewhat Unlikely",
"5" = "Unlikely",
"6" = "Very Unlikely")) %>%
mutate(pid3_char = pid3,
pid3_char = recode(pid3,
"1" = "2",
"2" = "1",
"3" = "3",
"4" = "4",
"5" = "5"))%>%
mutate(pid3_char = as.character(pid3),
pid3_char = recode(pid3,
"1" = "Republican",
"2" = "Democrat",
"3" = "Independent",
"4" = "Other",
"5" = "Unsure"))%>%
mutate(pid7_char = as.character(pid7),
pid7_char = recode(pid7,
"1" = "Strong Democrat",
"2" = "Not very strong Democrat",
"3" = "Lean Democrat",
"4" = "Independent",
"5" = "Lean Republican",
"6" = "Not very strong Republican",
"7" = "Strong Republican",
"8" = "Unsure",
"9" = "Don't know"))
